# ONBOARD.AI Action Knowledge Base
# This document defines all platform actions that can be guided

platforms:
  github:
    name: "GitHub"
    base_url: "github.com"

    actions:
      create_repository:
        id: "github_create_repo"
        title: "Create a GitHub Repository"
        steps:
          - step: 1
            page_pattern: "*github.com*"
            action: "navigate"
            selectors:
              - "summary[aria-label*='Create']"
              - "[data-target='create-menu.button']"
              - "a[href='/new']"
            message: "ðŸ‘‹ Click the '+' menu and select 'New repository'"
            tip: "ðŸ’¡ A repository is like a project folder that tracks all your code changes"

          - step: 2
            page_pattern: "*github.com/new"
            action: "fill_form"
            selectors:
              - selector: "input[name='repository[name]']"
                message: "First, give your new repository a name. Make it short and memorable!"
                required: true
              - selector: "input[name='repository[description]']"
                message: "Now, add a brief description. This helps others understand your project."
                required: false
              - selector: "input[name='repository[auto_init]']"
                message: "âœ… Check 'Add a README file' - it's the first thing people see!"
                required: true
            tip: "ðŸ’¡ Pro tip: Always add a README - it's the first thing people see!"

          - step: 3
            page_pattern: "*github.com/new"
            action: "submit"
            selectors:
              - "button[type='submit'].btn-primary"
            message: "ðŸš€ Click 'Create repository' when ready"

          - step: 4
            page_pattern: "*github.com/*/blob/*"
            completion_indicators:
              - "repository-content"
              - "#code-tab"
            message: "ðŸŽ‰ Repository created successfully!"

      clone_repository:
        id: "github_clone"
        title: "Clone a Repository"
        steps:
          - step: 1
            page_pattern: "*github.com/*/*"
            action: "click"
            selectors:
              - "button#code-button"
              - "button[data-target*='get-repo']"
            message: "Click the 'Code' button to get the clone URL"

          - step: 2
            page_pattern: "*github.com/*/*"
            action: "copy"
            selectors:
              - "input[aria-label*='Clone']"
              - ".clipboard-copy-text"
            message: "Copy the repository URL"
            tip: "Next: Open your terminal and run 'git clone [paste-url]'"

      create_pull_request:
        id: "github_pr"
        title: "Create a Pull Request"
        prerequisites:
          - "Must be on a repository page"
          - "Must have a branch with changes"
        steps:
          - step: 1
            page_pattern: "*github.com/*/*"
            action: "navigate"
            selectors:
              - "a[href*='/pull/new']"
              - "button[data-ga-click*='pull request']"
            message: "Click 'Pull requests' tab, then 'New pull request'"

          - step: 2
            page_pattern: "*github.com/*/compare/*"
            action: "select"
            selectors:
              - "button.branch-select"
            message: "Select your branch to compare"

          - step: 3
            page_pattern: "*github.com/*/compare/*"
            action: "fill_form"
            selectors:
              - selector: "input#pull_request_title"
                message: "Enter a clear title for your pull request"
                required: true
              - selector: "textarea#pull_request_body"
                message: "Describe what changes you made and why"
                required: true
            tip: "A good PR description helps reviewers understand your changes"

          - step: 4
            page_pattern: "*github.com/*/compare/*"
            action: "submit"
            selectors:
              - "button.btn-primary[type='submit']"
            message: "Click 'Create pull request'"

      create_issue:
        id: "github_issue"
        title: "Create an Issue"
        steps:
          - step: 1
            page_pattern: "*github.com/*/*"
            action: "navigate"
            selectors:
              - "a[href*='/issues']"
            message: "Click on the 'Issues' tab"

          - step: 2
            page_pattern: "*github.com/*/issues"
            action: "click"
            selectors:
              - "a[href*='/issues/new']"
            message: "Click 'New issue' button"

          - step: 3
            page_pattern: "*github.com/*/issues/new"
            action: "fill_form"
            selectors:
              - selector: "input#issue_title"
                message: "Enter a descriptive issue title"
                required: true
              - selector: "textarea#issue_body"
                message: "Describe the issue in detail"
                required: true

          - step: 4
            page_pattern: "*github.com/*/issues/new"
            action: "submit"
            selectors:
              - "button.btn-primary[type='submit']"
            message: "Click 'Submit new issue'"

      fork_repository:
        id: "github_fork"
        title: "Fork a Repository"
        steps:
          - step: 1
            page_pattern: "*github.com/*/*"
            action: "click"
            selectors:
              - "button[data-ga-click*='fork']"
              - "a[href*='/fork']"
            message: "Click the 'Fork' button in the top right"
            tip: "Forking creates your own copy of the repository"

          - step: 2
            completion_indicators:
              - "forked from"
            message: "Repository forked successfully!"

  slack:
    name: "Slack"
    base_url: "slack.com"

    actions:
      create_channel:
        id: "slack_channel"
        title: "Create a Slack Channel"
        steps:
          - step: 1
            page_pattern: "*slack.com/*"
            action: "click"
            selectors:
              - "button[data-qa='channel_browser']"
              - "button[aria-label*='channel']"
            message: "Click 'Channels' in the sidebar"

          - step: 2
            page_pattern: "*slack.com/*"
            action: "click"
            selectors:
              - "button[data-qa='channel_browser_action_button']"
            message: "Click 'Create channel'"

          - step: 3
            action: "fill_form"
            selectors:
              - selector: "input[data-qa='channel_name_input']"
                message: "Enter channel name"
                required: true
              - selector: "textarea[data-qa='channel_description_input']"
                message: "Add channel description"
                required: false

      send_message:
        id: "slack_message"
        title: "Send a Slack Message"
        steps:
          - step: 1
            action: "navigate"
            message: "Navigate to the channel or DM"

          - step: 2
            action: "fill_form"
            selectors:
              - selector: "[data-qa='message_input']"
                message: "Type your message here"
                required: true
            tip: "Use @ to mention someone, # to link a channel"

  jira:
    name: "Jira"
    base_url: "atlassian.net"

    actions:
      create_ticket:
        id: "jira_ticket"
        title: "Create a Jira Ticket"
        steps:
          - step: 1
            page_pattern: "*atlassian.net/jira*"
            action: "click"
            selectors:
              - "button[data-test-id='global-pages.directories.directory-base.content-area.create-button']"
              - "button#createGlobalItem"
            message: "Click the 'Create' button in the top navigation"

          - step: 2
            action: "fill_form"
            selectors:
              - selector: "input[name='summary']"
                message: "Enter ticket summary"
                required: true
              - selector: "[data-test-id='issue.create.description']"
                message: "Describe the issue"
                required: true
              - selector: "select[name='issuetype']"
                message: "Select issue type (Bug, Task, Story, etc.)"
                required: true
            tip: "Be specific in your description - it helps the team understand the issue"

          - step: 3
            action: "submit"
            selectors:
              - "button[type='submit']"
            message: "Click 'Create' to submit"

  figma:
    name: "Figma"
    base_url: "figma.com"

    actions:
      create_file:
        id: "figma_file"
        title: "Create a Figma File"
        steps:
          - step: 1
            page_pattern: "*figma.com/*"
            action: "click"
            selectors:
              - "button[data-testid='new-file-button']"
            message: "Click 'New File' button"

          - step: 2
            action: "navigate"
            message: "Your new design file is ready!"
            tip: "Use F to create frames, T for text, R for rectangles"

# AI Instructions for generating guidance
ai_guidance_rules:
  - "Always check current URL against page_pattern to match the correct step"
  - "Use completion_indicators to detect when a step or task is done"
  - "Generate contextual tips based on the platform and action"
  - "If multiple selectors exist, try each one and highlight whichever is found"
  - "Adapt language to be friendly, encouraging, and clear"
  - "For required fields, emphasize importance"
  - "Always provide 'why' context when helpful (tips)"
  - "If user is stuck on one step too long, offer alternative approaches"
  - "Celebrate milestones and completions enthusiastically"
